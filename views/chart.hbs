<!-- index.html -->
<!DOCTYPE html>
<html lang="en">

<head>
    <script src="userActivityTracker.js" type='text/javascript'></script>
    <style>
        #chart3 {
            width: 10%;
            height: 10%;
        }
    </style>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" <meta
        charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chart.js Example</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="chart1.js"></script>
    <script src="chart2.js"></script>
    <script src="chart3.js"></script>
    <script src="chart4.js"></script>
    <script src="chart5.js"></script>
    <script src="chart6.js"></script>
    <script src="chart7.js"></script>
    <script src="chart8.js"></script>
    <script src="chart9.js"></script>
</head>

<body>
    <div class="container" id="app">
        <div class="row">
            <div class="col-md-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Nombre total de visiteurs</h5>
                        <div class="card-text">
                            <!-- Canvas pour le graphique -->
                            <canvas id="trafficChart"></canvas>
                            <!-- Paragraphe pour afficher le texte -->
                            <p id="totalVisitors">Nombre total de visiteurs : <span id="totalCount"></span></p>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                fetch('/chart10')
                    .then(response => response.json())
                    .then(data => {
                        const labels = data.map(item => item.event);
                        const interactions = data.map(item => item.count);

                        const ctx = document.getElementById('trafficChart').getContext('2d');
                        const myChart = new Chart(ctx, {
                            type: 'line',
                            data: {
                                labels: labels,
                                datasets: [{
                                    label: 'Nombre de visiteurs',
                                    data: interactions,
                                    backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                    borderColor: 'rgba(255, 99, 132, 1)',
                                    borderWidth: 1
                                }]
                            },
                            options: {
                                scales: {
                                    y: {
                                        beginAtZero: true
                                    }
                                }
                            }
                        });

                        // Calculer le nombre total de visiteurs
                        const totalCount = interactions.reduce((acc, curr) => acc + curr, 0);

                        // Mettre à jour le texte avec le nombre total de visiteurs
                        document.getElementById('totalCount').innerText = totalCount;
                    })
                    .catch(error => {
                        console.error('Une erreur s\'est produite lors de la récupération des données:', error);
                    });
            </script>

            <div class="col-md-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Nombre total de visiteurs</h5>
                        <div class="card-text">
                            <!-- Canvas pour le graphique -->
                            <canvas id="trafficChart"></canvas>
                            <!-- Paragraphe pour afficher le texte -->
                            <p id="totalVisitors">Nombre total de visiteurs : <span id="totalCount"></span></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Nombre total de visiteurs</h5>
                        <div class="card-text">
                            <!-- Canvas pour le graphique -->
                            <canvas id="trafficChart"></canvas>
                            <!-- Paragraphe pour afficher le texte -->
                            <p id="totalVisitors">Nombre total de visiteurs : <span id="totalCount"></span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    </div>



    <br />
    <br />
    <canvas id="chart1"
        style="width:50%;height:20vh;background:#faf8f9;border:1px solide #eceee8;margin-top:10px;"></canvas>
    <canvas id="chart2"
        style="width:50%;height:20vh;background:#faf8f9;border:1px solide #555652;margin-top:10px;"></canvas>
    <canvas id="chart3"
        style="width:10%;height:10px;background:#faf8f9;border:1px solide #555652;margin-top:10px;"></canvas>
    <canvas id="chart4"
        style="width:50%;height:20vh;background:#faf8f9;border:1px solide #555652;margin-top:10px;"></canvas>
    <canvas id="chart5"
        style="width:50%;height:20vh;background:#faf8f9;border:1px solide #555652;margin-top:10px;"></canvas>
    <canvas id="chart6"
        style="width:50%;height:20vh;background:#faf8f9;border:1px solide #555652;margin-top:10px;"></canvas>
    <canvas id="chart7"
        style="width: 50%;height:20vh;background:#faf8f9;border:1px solide #555652;margin-top:10px;"></canvas>
    <canvas id="chart8"
        style="width: 50%;height:20vh;background:#faf8f9;border:1px solide #555652;margin-top:10px;"></canvas>
    <canvas id="chart9"
        style="width: 50%;height:20vh;background:#faf8f9;border:1px solide #555652;margin-top:10px;"></canvas>
    <script>

    </script>
</body>

</html>